{% extends "template.html" %}
{% block imports %}
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
<script src="{{ url_for('static', filename='code/js/time.js') }}"></script>
<script src="{{ url_for('static', filename='code/js/song.js') }}"></script>
<script src="{{ url_for('static', filename='code/js/controls.js') }}"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='code/css/karoke.css') }}">
{% endblock %}
{% block content %}
<input id="lrcFile" type="file" accept=".lrc" hidden>
<input id="audioFile" type="file" accept=".mp3,.mp4" hidden>
<audio id="song" hidden></audio>
<div class="row justify-content-center">
    <div class="col-md-8 py-3">
        <div class="card shadow">
            <div class="card-body">
                <h1 class="text-center">Karoke</h1>
                <h3>Audio Control</h3>
                <div class="form-group text-center">
                    <div class="btn-group" role="group">
                        <button id="lrcUpload" class="btn" data-toggle="tooltip" data-placement="top" title="Upload .lrc file">
                            <span class="fa fa-upload"></span>
                            <span><strong>Step 1:</strong> .LRC</span>
                        </button>
                        <button id="audioUpload" class="btn" data-toggle="tooltip" data-placement="top" title="Upload audio file">
                            <span class="fa fa-upload"></span>
                            <span><strong>Step 2:</strong> Audio</span>
                        </button>
                        <button id="control" class="btn" data-toggle="tooltip" data-placement="top">
                            <span id="controlIcon"></span>
                        </button>
                        <button id="restart" class="btn" data-toggle="tooltip" data-placement="top" title="Restart Song">
                            <span class="fa fa-undo"></span>
                        </button>
                    </div>
                </div>
                <div id="error"></div>
                <div id="progressDiv" class="progress mb-2" data-toggle="tooltip" data-placement="bottom" title= "Seek through song">
                    <div id="progressBar" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <div class="status mb-2">
                    <h6>
                        <span id="currentTime">..</span>
                        <span> <strong>/</strong> </span>
                        <span id="totalTime">..</span>
                    </h6>
                </div>
                <h3>Text Window</h3>
                <h5><span id="nowPlaying">No song loaded</span></h5>
                <div class="form-group">
                    <div class="card" id="karokeCard">
                        <div class="card-body" id="karokeDisplay"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">initializePage();</script>
{% endblock %}
